define([],function(){return function(h){var a=this;a.width="auto";a.value="";a.list=[];a.transferHeight="200px";a.transferWidth="100px";a.displayAddButton=!0;a.displayDeleteButton=!0;a.displayAddAllButton=!0;a.displayDeleteAllButton=!0;a.listRight=cube.array([]);a._addData=null;a._deleteData=null;a.onRendered=null;a.commonRendered=null;a._init=function(){if(cube.notEmpty(a.value())){for(var c=String(a.value()).split(","),b=0;b<c.length;b++)for(var d=c[b],e=a.list(),f=0;f<e.length;f++){var g=a.list()[f];
d==a.list()[f].value&&(a.listRight.push(g),a.list.remove(g))}a.setTransferEditorValue()}};a._selectListItem=function(c){a._addData(c);a._deleteData(c)};a._abAddItem=function(c){for(var b=a.list(),d=0;d<b.length;d++){var e=a.list()[d];c.text==a.list()[d].text&&(a.list.remove(e),a.listRight.push(e))}a.setTransferEditorValue()};a._abRemoveItem=function(c){for(var b=a.listRight(),d=0;d<b.length;d++){var e=a.listRight()[d];c.text==e.text&&(a.list.push(e),a.listRight.remove(e))}a.setTransferEditorValue()};
a._addItem=function(){for(var c=a.listRight(),b=0;b<c.length;b++){var d=a.listRight()[b];if(a._addData()==a.listRight()[b])return}cube.notEmpty(a._addData())&&a.listRight.push(a._addData());c=a.list();for(b=0;b<c.length;b++)d=a.list()[b],a._addData()==a.list()[b]&&a.list.remove(d);a.setTransferEditorValue()};a._removeItem=function(){for(var c=a.list(),b=0;b<c.length;b++){var d=a.list()[b];if(a._deleteData()==a.list()[b])return}cube.notEmpty(a._deleteData())&&a.list.push(a._deleteData());c=a.listRight();
for(b=0;b<c.length;b++)d=a.listRight()[b],a._deleteData()==a.listRight()[b]&&a.listRight.remove(d);a.setTransferEditorValue()};a._addAllItems=function(){for(var c=a.list(),b=0;b<c.length;b++){var d=a.list()[b];a.listRight.push(d)}a.list.removeAll();a.setTransferEditorValue()};a._removeAllItems=function(){for(var c=a.listRight(),b=0;b<c.length;b++){var d=a.listRight()[b];a.list.push(d)}a.listRight.removeAll();a.setTransferEditorValue()};a.setTransferEditorValue=function(){for(var c=a.listRight(),b=
"",d=0;d<c.length;d++){var e=a.listRight()[d].value,b=b==""?e:String(a.value())+","+e;a.value(b)}c.length==0&&a.value("")};a.onload=function(c,b){a.commonRendered!=null&&!cube.isObservable(a.commonRendered)&&a.commonRendered(c,b);if(a.onRendered!=null&&!cube.isObservable(a.onRendered))a.onRendered(c,b)};cube.endViewModel(a,h)}});