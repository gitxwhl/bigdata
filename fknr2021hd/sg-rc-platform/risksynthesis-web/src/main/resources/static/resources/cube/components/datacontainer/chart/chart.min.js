define(["echarts"],function(d){function c(c){var a=this;a.title={};a.width="auto";a.height="400px";a.tooltip={};a.legend={};a.grid={};a.toolbox={};a.xAxis=null;a.yAxis=null;a.series=[];a._width="";a._height="";a.option={};a.chart=null;a.onRendered=null;a._init=function(){a.width()&&a._width(a.width());a.height()&&a._height(a.height());a.widthSub=cube.subscribe(a.width,function(b){a._width(b)});a.heightSub=cube.subscribe(a.height,function(b){a._height(b)});a.titleSub=cube.subscribe(a.title,function(){a.setOption({title:a.title()})});
a.tooltipSub=cube.subscribe(a.tooltip,function(){a.setOption({tooltip:a.tooltip()})});a.legendSub=cube.subscribe(a.legend,function(){a.setOption({legend:a.legend()})});a.gridSub=cube.subscribe(a.grid,function(){a.setOption({grid:a.grid()})});a.toolboxSub=cube.subscribe(a.toolbox,function(){a.setOption({toolbox:a.toolbox()})});a.xAxisSub=cube.subscribe(a.xAxis,function(){a.setOption({xAxis:a.xAxis()})});a.yAxisSub=cube.subscribe(a.yAxis,function(){a.setOption({yAxis:a.yAxis()})});a.seriesSub=cube.subscribe(a.series,
function(){a.setOption({series:a.series()})});a.optionSub=cube.subscribe(a.option,function(){a.setOption(a.option())})};a.setOption=function(b){var c=a.chart.getOption();$.extend(c,b);a.chart.setOption(c)};a.onload=function(b){$.isEmptyObject(this.option())?(a.chart=d.init($(b).children(":first").get(0)),a.chart.setOption({title:a.title(),tooltip:a.tooltip(),legend:a.legend(),grid:a.grid(),toolbox:a.toolbox(),xAxis:a.xAxis(),yAxis:a.yAxis(),series:a.series()})):(a.chart=d.init($(b).children(":first").get(0)),
a.chart.setOption(a.option()));if(a.onRendered!=null&&!cube.isObservable(a.onRendered))a.onRendered(b)};cube.endViewModel(a,c)}c.prototype.dispose=function(){this.widthSub.dispose();this.heightSub.dispose();this.titleSub.dispose();this.tooltipSub.dispose();this.legendSub.dispose();this.gridSub.dispose();this.toolboxSub.dispose();this.xAxisSub.dispose();this.yAxisSub.dispose();this.seriesSub.dispose();this.optionSub.dispose()};return c});