define([],function(){return function(b){function d(){var c=parseInt(a.interval());c<500&&(c=500);return c}var a=this;a.id="";a.style="";a.autoPlay=!0;a.showArrow=!0;a.showCaption=!1;a.interval=5E3;a.currentImgIndex=1;a.showImgFull=!1;a.imgItems=[];a._carousel=null;a.onCurrentImgIndexChanged=null;a.onRendered=null;a._init=function(){cube.isEmpty(a.id())&&a.id("carousel_"+cube.random().toString().split("&")[0]);a.autoPlaySub=cube.subscribe(a.autoPlay,function(c){c?(c=d(),a._carousel.carousel("cycle",
c,a)):a._carousel.carousel("pause")});a.intervalSub=cube.subscribe(a.interval,function(){if(a.autoPlay()){var c=d();a._carousel.carousel("pause");a._carousel.carousel("cycle",c,a)}});a.currentImgIndexSub=cube.subscribe(a.currentImgIndex,function(c){var b=a.imgItems().length,c=parseInt(c);isNaN(c)||c<=0?a.currentImgIndex(1):c>b?a.currentImgIndex(b):a.currentImgIndex(c)})};a.onload=function(c){a._carousel=$(c).children(":first");a.autoPlay()&&a._carousel.carousel("cycle",a.interval,a);a._carousel.on("slide.bs.carousel",
function(c){c=c.relatedTarget.getAttribute("num");if(a.onCurrentImgIndexChanged!=null&&!cube.isObservable(a.onCurrentImgIndexChanged))a.onCurrentImgIndexChanged(c)});if(a.onRendered!=null&&!cube.isObservable(a.onRendered))a.onRendered(c)};cube.endViewModel(a,b)}});
(function(b){b.fn.emulateTransitionEnd=function(d){var a=!1,c=this;b(this).one(b.support.transition.end,function(){a=!0});setTimeout(function(){a||b(c).trigger(b.support.transition.end)},d);return this};b(function(){var d=b.support,a;a:{var c=document.createElement("bootstrap"),k={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},e;for(e in k)if(c.style[e]!==void 0){a={end:k[e]};break a}}d.transition=a})})(jQuery);
(function(b){var d=function(c,a){this.$element=b(c);this.$indicators=this.$element.find(".carousel-indicators");this.options=a;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.vm=a.vm;this.options.pause=="hover"&&this.$element.on("mouseenter",b.proxy(this.pause,this)).on("mouseleave",b.proxy(this.cycle,this))};d.DEFAULTS={interval:5E3,pause:"hover",wrap:!0};d.prototype.cycle=function(a){a||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&
!this.paused&&(this.interval=setInterval(b.proxy(this.next,this),this.options.interval));return this};d.prototype.getActiveIndex=function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)};d.prototype.to=function(a){var d=this,e=this.getActiveIndex();if(!(a>this.$items.length-1||a<0)){if(this.sliding)return this.$element.one("slid.bs.carousel",function(){d.to(a)});if(e==a)return this.pause().cycle();return this.slide(a>
e?"next":"prev",b(this.$items[a]))}};d.prototype.pause=function(a){a||(this.paused=!0);this.$element.find(".next, .prev").length&&b.support.transition.end&&(this.$element.trigger(b.support.transition.end),this.cycle(!0));this.interval=clearInterval(this.interval);return this};d.prototype.next=function(){if(!this.sliding)return this.slide("next")};d.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};d.prototype.slide=function(a,d){var e=this.$element.find(".item.active"),g=d||e[a](),
f=this.interval,h=a=="next"?"left":"right",i=a=="next"?"first":"last",j=this;if(!g.length){if(!this.options.wrap)return;g=this.$element.find(".item")[i]()}this.sliding=!0;f&&this.pause();i=b.Event("slide.bs.carousel",{relatedTarget:g[0],direction:h});if(!g.hasClass("active")){this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var a=b(j.$indicators.children()[j.getActiveIndex()]);a&&a.addClass("active")}));if(b.support.transition&&
this.$element.hasClass("slide")){this.$element.trigger(i);if(i.isDefaultPrevented())return;g.addClass(a);e.addClass(h);g.addClass(h);e.one(b.support.transition.end,function(){g.removeClass([a,h].join(" ")).addClass("active");e.removeClass(["active",h].join(" "));j.sliding=!1;setTimeout(function(){j.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600);var l=this.vm;setTimeout(function(){l.currentImgIndex(j.getActiveIndex()+1)},600)}else{this.$element.trigger(i);if(i.isDefaultPrevented())return;
e.removeClass("active");g.addClass("active");this.sliding=!1;this.$element.trigger("slid.bs.carousel");this.vm.currentImgIndex(j.getActiveIndex()+1)}f&&this.cycle();return this}};var a=b.fn.carousel;b.fn.carousel=function(a,k,e){return this.each(function(){var g=b(this),f=g.data("bs.carousel"),h=b.extend({},d.DEFAULTS,g.data(),typeof a=="object"&&a);h.vm=e;var i=typeof a=="string"?a:h.slide;if(k!=void 0&&f!=void 0&&f.options!=void 0)f.options.interval=k;if(e!=void 0&&f!=void 0&&f.options!=void 0)f.options.vm=
e;f||g.data("bs.carousel",f=new d(this,h));if(typeof a=="number")f.to(a);else if(i)f[i]();else h.interval&&f.pause().cycle()})};b.fn.carousel.Constructor=d;b.fn.carousel.noConflict=function(){b.fn.carousel=a;return this};b(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(a){var d=b(this),e,g=b(d.attr("data-target")||(e=d.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));e=b.extend({},g.data(),d.data());var f=d.attr("data-slide-to");if(f)e.interval=!1;g.carousel(e);(f=
d.attr("data-slide-to"))&&g.data("bs.carousel").to(f);a.preventDefault()});b(window).on("load",function(){b('[data-ride="carousel"]').each(function(){var a=b(this);a.carousel(a.data())})})})(jQuery);